[gcode_macro _check_home]
gcode:
  {% if printer.toolhead.homed_axes|lower != 'xyz' %}
    {% if params.ERROR %}
      { action_raise_error(params.ERROR) }
    {% else %}
      { action_raise_error('Axis not homed.') }
    {% endif %}
  {% endif %}
